<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>自动化工具</title>
    <link rel="stylesheet" href="/css/bootstrap.css">
    <link rel="stylesheet" href="/css/bootstrap-theme.css">
    <script src="/js/jquery-3.4.1.min.js"></script>
    <script src="/js/bootstrap.js"></script>
</head>
<body>

<!--引入navigation.html中的模板-->
<div th:insert="~{navigation::nav}"></div>
<!--几个不同功能的按钮-->
<div>
    <p>备注：由于免费代理稳定性很差，目前是随机1-2分钟爬取90个免费IP，每隔8秒中自动检测数据库中可用IP是否失效，
        因此每次点击打印数据库IP显示的数量都不同。</p>
    <p>
        <a href="/ipProxyPool">
            <button type="button" class="btn btn-default btn-lg col-xs-12 col-sm-9 col-md-9 col-lg-9">打印当前数据库信息
            </button>
        </a>
    </p>
    <!--数据显示表格-->
    <div class="col-xs-12 col-sm-9 col-md-9 col-lg-9">
        <h3>数据库中的免费代理数量为：<span th:text="${sum}">0</span></h3>
        <table class="table table-hover table-bordered">
            <tr>
                <th>#</th>
                <th >网站</th>
                <th >录入时间</th>
                <th >IP地址</th>
                <th >代理端口</th>
                <th >传输协议</th>
                <th >延时(秒)</th>
            </tr>
            <tr th:each="ipProxyPool:${ipProxyPoolArrayList}">
                <td th:text="${ipProxyPool.getId()}">1</td>
                <td th:text="${ipProxyPool.getSite()}">http://test.com</td>
                <td th:text="${ipProxyPool.getGmtCreate()}">2020/1/11</td>
                <td th:text="${ipProxyPool.getIpAddress()}">127.0.0.1</td>
                <td th:text="${ipProxyPool.getPort()}">1080</td>
                <td th:text="${ipProxyPool.getProtocol()}">http</td>
                <td th:text="${ipProxyPool.getDelayTime()}">100</td>
            </tr>
        </table>
    </div>
</div>

</body>
</html>